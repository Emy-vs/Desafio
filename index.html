<!Doctype html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title> Simulador de Juros Compostos</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <link rel="stylesheet" href="simulador.css">
</head>

<body>

    <script>

    function calcular_juros_compostos() {
        let investimento_inicial = parseFloat(document.getElementById("investimento_inicial").value);
        let investimento_mensal =  parseFloat(document.getElementById("investimento_mensal").value);
        var meses = parseInt(document.getElementById("meses").value);
        let taxa_de_juros = parseFloat(document.getElementById("taxa_de_juros").value);
        var nome = parseInt(document.getElementById("nome").value);
        nome = String($("#nome").val());
    
        $(".result_nome").html(nome);
    
        let investimento_acumulado = investimento_inicial;
    
        var total_investimento_acumulado = investimento_inicial + (investimento_mensal * meses);
    
        let juros_compostos = 0;
        let juros_compostos_total = 0;
    
        for (let i = 0; i < meses; i++) {
            juros_compostos = (investimento_acumulado + taxa_de_juros) / 100;
            juros_compostos_total += juros_compostos;
            investimento_acumulado += juros_compostos + investimento_mensal;
        }
    
        var valor_a_receber = total_investimento_acumulado + juros_compostos_total;
        
        document.getElementById("inicial").innerHTML = investimento_inicial;
        document.getElementById("mensal").innerHTML = investimento_mensal;
        document.getElementById("duracao").innerHTML = meses;
        document.getElementById("tt_investimento").innerHTML = Number(total_investimento_acumulado).toFixed(2);
        document.getElementById("juros_recebidos").innerHTML = Number(juros_compostos_total).toFixed(2);
        document.getElementById("a_receber").innerHTML = Number(valor_a_receber).toFixed(2);
        $
    
    
        document.getElementById('formCalc').reset();
        return false;
    }
    
</script>
    
       <div class="container">
            <form class="w-100" method="post" id="formCalc" action="">
                <label for="basic-url">Nome</label>
                <input class="form-control border border-warning border-top-0 border-right-0 border-left-0" step="0.01" id="nome" min="0.00" max="9999999999.00" required="">
                <div class="input-group mb-3 rounded-0">

                    <div class="input-group-prepend">
                        
                    </div>
                </div>
                <label for="basic-url">Investimento Inicial</label>
                <div class="input-group mb-3 rounded-0">
                    <div class="input-group-prepend">
                        
                    </div>
                    <input class="form-control border border-warning border-top-0 border-right-0 border-left-0" type="number" step="0.01" id="investimento_inicial" min="0.00" max="9999999999.00" required>
                </div>
                <label for="basic-url">Investimento Mensal</label>
                <div class="input-group mb-3 rounded-0">
                    <div class="input-group-prepend">
                       
                        
                    </div>
                    <input class="form-control currency border border-warning border-top-0 border-right-0 border-left-0" type="number" step="0.01" id="investimento_mensal" min="0.00" max="9999999999.00" required>
                </div>
                <label for="basic-url">Por quanto tempo?</label>
                <div class="input-group mb-3 rounded-0">
                    <div class="input-group-prepend">
                        
                    </div>
                    <input class="form-control currency border border-warning border-top-0 border-right-0 border-left-0" type="number" id="meses" min="1" placeholder="Meses" required>
                </div>
                <label for="basic-url">Juros ao Mês</label>
                <div class="input-group mb-3 rounded-0">
                    <input class="form-control currency border border-warning border-top-0 border-right-0 border-left-0" type="number" step="0.01" id="taxa_de_juros" min="0.01" max="9999999999.00" required>
                    <div class="input-group-prepend">
                        
                    </div>
                </div>
                <div class="form-group">
                    <button class="btn btn-warning" type="click"  value="Simular" onclick="return calcular_juros_compostos()">Simular</button>
                </div>
            
           
            

                
        </form>
        <div class="row d-flex justify-content-center d-none d-md-block">
                <div class="card" style="width:15rem">
                    <div class="card-body">
                         <h5 class="card-title">Nome</h5>
                         <p class="card-text result_nome"></p>
                    </div>
                </div>
            
               <div class="card" style="width: 15rem;">
                    <div class="card-body">
                        <h5 class="card-title">Valor Inicial</h5>
                        <p class="card-text" id="inicial"><strong>R$</strong></p>
                    </div>
                </div>
                <div class="card" style="width: 15rem;">
                    <div class="card-body">
                        <h5 class="card-title">Mensalidade</h5>
                        <p class="card-text" id="mensal"><strong>R$</strong><br><small id="juros"></small></p>
                    </div>
                </div>
                <div class="card" style="width: 15rem;">
                    <div class="card-body">
                        <h5 class="card-title">Tempo</h5>
                        <p class="card-text" id="duracao"><strong>meses</strong></p>
                    </div>
                </div>
                <div class="card" style="width: 15rem;">
                    <div class="card-body">
                        <h5 class="card-title">Valor Total</h5>
                        <p class="card-text" id="tt_investimento"><strong>R$</strong></p>
                    </div>
                </div>
                <div class="card" style="width: 15rem;">
                    <div class="card-body">
                        <h5 class="card-title">Juros Total</h5>
                        <p class="card-text" id="juros_recebidos"><strong>R$</strong></p>
                    </div>
                </div>
                <div class="card" style="width: 15rem;">
                    <div class="card-body">
                        <h5 class="card-title">Valor pós Juros</h5>
                        <p class="card-text" id="a_receber"><strong>R$</strong></p>
                    </div>
                </div>
                <p>&nbsp;</p>
                <button type="submit" class="btn btn-success" onclick="return calcular_juros_compostos()"; return false;">Calcular Novamente</button>
            </div>
        </div>
    </div>
    
    </body>
    
    </html>